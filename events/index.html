<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sojourners for Justice Press - Events</title>
  <link rel="stylesheet" href="../layout/layout.css">
  <style>
    main {
      display: flex;
    }

    .eventDiv img {
      border: none;
      max-width: 80%;
    }
  </style>
</head>

<body>
  <header>
    <div class="header">
      <div class="header-item">
        <h1 class="title-tag">
          <a href="/">Sojourners for Justice Press</a>
        </h1>
      </div>

      <div class="header-item">
        <div class="button-container">
          <div class="dropdown">
            <span class="dropdown-button">
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Events <span class="arrow"></span>
            </span>

            <div class="dropdown-content">
              <ul>
                <li><a href="/about">About</a></li>
                <li><a href="/publications">Publications</a></li>
                <li><a href="/submissions">Submissions</a></li>
                <li><a href="/events">Events</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Start of the basic structure of the publications page -->
  <main>
    <div class="eventList">
      <div class="loading"></div>
    </div>
  </main>
  <!-- End of the basic structure of the publications page -->

  <footer>
    <div class="footer">
      <div class="footer-item">
        <ul>
          <li><a href="mailto:sojourners4justice@gmail.com">Contact us</a></li>
          <li><a href="https://ko-fi.com/sojourners4justice">Make a donation</a></li>
          <li>Follow us on <a href="#">Twitter</a>, <a href="#">Instagram</a> & <a href="#">Are.na</a></li>
        </ul>
      </div>

      <div class="footer-item">
        <p class="copyright"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons CC
            BY-NC-SA 4.0</a></p>
      </div>
    </div>
  </footer>
</body>
<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
<script src="../script/jquery-3.6.0.min.js"></script>
<script src="../script/publications.js"></script>
<script>
  const eventDiv = Handlebars.compile(`
        <div class="eventDiv"">
        <h3>{{eventTitle}}</h3>
        <p id="eventDate">{{eventDate}}</p>
        <p><a href="{{eventLink}}" target="_blank">{{eventLinkTitle}}</p>
        <img src="asset/{{img}}" class="eventImg" alt="{{imgAltText}}"></a> <br>
        <p>{{eventDescription}}</p>
        </div>
    `)
</script>
<script>
  loadSheetData("https://docs.google.com/spreadsheets/d/e/2PACX-1vRO1NJry3UZ38u2Fk6U3RIZfy7WWQ611lTEwHHE0p4NHLn-yg0zl_qum1_vgX-4bB5loS15s2J1DFlu/pub?gid=1744381431&single=true&output=tsv", function (events) {
    $('.eventList').empty()
    for (let index = 0; index < events.length; index++) {
      $('.eventList').append(eventDiv(events[index]))
    }
  })
</script>

</html>